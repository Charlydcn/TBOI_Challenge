{% extends 'base.html.twig' %}

{% block title %}Log in{% endblock %}

{% block metaDescription %}Join TBOI Challenge's community now to be able to create your own challenge, and challenge your friends with
Versus ! You can even log in with Discord OAuth2 secured authentication method !{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('/css/login.css')}}">
{% endblock %}

{% block body %}

<div id="login">
    
    <h1>Sign in : </h1>
    
    <form method="post">
    
        <div class="error">
            <p>{{ error ? error.message : "" }}</p>
        </div>
    
        <label>
            Email : 
            <input type="email" value="{{ last_username }}" placeholder="edmund@example.com" name="email" autocomplete="email" required autofocus>
        </label>
        <label>
            Password :
            <input type="password" placeholder="&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;" name="password" autocomplete="current-password" required>
        </label>
    
        <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
    
        <button type="submit">
            Sign in
        </button>
        <p>Not registered ?&nbsp;<a href="{{path('app_register')}}">Register</a></p>
    </form>
    
    <form action="{{ path('oauth_discord')}}" method="POST">
        <input type="hidden" name="token" value="{{ csrf_token('discord-auth') }}"/>
        <button type="submit">
            <i class="fa-brands fa-discord"></i>
            Log in with Discord
        </button>
    </form>
</div>

{% endblock %}
